
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" class="rest">
    <h:head>
        <title>الرئيسية</title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <meta name="description" content=""/>
        <meta name="author" content=""/>
        <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css"/>

        <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>

        <!-- Custom styles for this template-->
        <link href="../css/sb-admin-2.min.css" rel="stylesheet"/>
        <link href="../css/amer.css" rel="stylesheet"/>

    </h:head>
    <h:body id="page-top">



        <!-- Page Wrapper -->
        <div id="wrapper">
            <!-- Sidebar -->

            <div id="content-wrapper" class="d-flex flex-column">


                <!-- Main Content -->
                <div id="content">

                    <!-- Topbar -->

                    <ui:include src="../pages/heder.xhtml"/>
                    <!-- End of Topbar -->
                    <div class="container-fluid">

                        <!-- Page Heading -->

                        <div class=" col-md-12 ">
                            <div class="card border-left-primary border-right-0 shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters textC">
                                        <div class="col mr-2">
                                            <h2 class="section-heading text-uppercase">الرئيسية</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br/><hr style="border: 2px solid orange; margin-left: 10px; margin-right: 10px;" /><br/>







                        <!-- Content Row -->
                        <div class="row">



                            <!-- Earnings (Monthly) Card Example -->

                            <div class="col-xl-6 col-md-6 mb-6">
                                <a href="serviceCitizzenDone.xhtml" style="text-decoration: none;">
                                    <div class="card border-left-success shadow h-100 py-2">
                                        <div class="card-body">
                                            <div class="row no-gutters align-items-center">

                                                <div class="col-auto">

                                                    <i class="fa fa-thumbs-up fa-2x text-gray-300"></i>
                                                </div>
                                                <div class="col mr-2" style="text-align: right">
                                                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1" style="font-size: 16px;">الخدمات المنجزة</div>
                                                    <div class="h5 mb-0 font-weight-bold text-gray-800">#{headerEmp.numberOfservecDone}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>

                            <!-- Earnings (Monthly) Card Example -->

                            <div class="col-xl-6 col-md-6 mb-6">
                                <a href="serviceCitizennNotDone.xhtml" style="text-decoration: none;">

                                    <div class="card border-left-warning shadow h-100 py-2">
                                        <div class="card-body">
                                            <div class="row no-gutters align-items-center">
                                                <div class="col-auto">
                                                    <i class="fa fa-wrench fa-2x text-gray-300"></i>
                                                </div>
                                                <div class="col mr-2" style="text-align: right">
                                                    <div class="text-xs font-weight-bold text-warning text-uppercase mb-1" style="font-size: 16px;">الخدمات قيد التنفيذ</div>
                                                    <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">#{headerEmp.numberOfservecNotDone}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>


                        </div>

                        <!-- Content Row -->

                        <hr style="border: 2px solid transparent; margin-left: 10px; margin-right: 10px;" />

                        <!-- Content Row -->
                        <div class="row">

                            <!-- Content Column -->



                            <div class="col-xl-8 col-lg-7">
                                <div class="card shadow mb-4">
                                    <div class="card-header py-3">
                                        <h6 class="m-0 font-weight-bold text-primary" style="text-align: right;">اكثر 3 خدمات تم طلبها</h6>
                                    </div>
                                    <div class="card-body">


                                        <ui:repeat value="#{headerEmp.servicesCount}" var="serCount" >
                                            <h4 class="small font-weight-bold" style="text-align: right;">#{serCount.serviceName} <span style="text-align: left;">% #{serCount.count} </span></h4>
                                            <div class="progress mb-4">
                                                <div class="progress-bar " role="progressbar" style="width: #{serCount.count}%;background-color:#1cc88a" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </ui:repeat>

                                    </div>
                                </div>
                            </div>

                            <!-- Pie Chart -->
                            <div class="col-xl-4 col-lg-5">
                                <div class="card shadow mb-4">
                                    <!-- Card Header - Dropdown -->
                                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">

                                        <div class="dropdown no-arrow"> </div>

                                        <h6 class="m-0 font-weight-bold text-primary"> نسبة العمل على الخدمات</h6>
                                    </div>
                                    <!-- Card Body -->
                                    <div class="card-body" dir="rtl">
                                        <div class="chart-pie pt-4 pb-2"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; 
                                                                              bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;">
                                                <div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;
                                                     pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;
                                                       left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;
                                                                   bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;
                                                       width:200%;height:200%;left:0; top:0">

                                                    </div>

                                                </div>

                                            </div>
                                            <canvas id="myPieChart" width="532" height="245" class="chartjs-render-monitor" style="display: block; width: 532px; height: 245px;"></canvas>
                                        </div>
                                        <div class="mt-4 text-center small">
                                            <span class="mr-2">
                                                <i class="fas fa-circle text-warning"></i> قيد التنفيذ
                                            </span>
                                            <span class="mr-2">
                                                <i class="fas fa-circle text-success"></i> منجزة
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!-- Color System -->





                        </div>

                    </div>

                    <!-- Begin Page Content -->

                </div>

                <br/><br/>
                <!-- End of Main Content -->

                <!-- Footer -->
                <footer class="sticky-footer bg-white">
                    <div class="container my-auto">
                        <div class="copyright text-center my-auto">
                            <span>Copyright © Your Website 2019</span>
                        </div>
                    </div>
                </footer>
                <!-- End of Footer -->

            </div>


            <ui:include src="sidebar.xhtml"/>


        </div>

        <!-- Bootstrap core JavaScript-->
        <script src="../vendor/jquery/jquery.min.js"></script>
        <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Core plugin JavaScript-->
        <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom scripts for all pages-->
        <script src="../js/sb-admin-2.min.js"></script>

        <!-- Page level plugins -->
        <script src="../vendor/chart.js/Chart.min.js"></script>

        <!-- Page level custom scripts -->

        <script src="../js/js.js" type="text/javascript"></script>

        <script>

//  pie chart

            Chart.defaults.global.defaultFontFamily = 'Nunito', '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
            Chart.defaults.global.defaultFontColor = '#858796';

// Pie Chart Example
            var ctx = document.getElementById("myPieChart");
            var myPieChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ["منجزة", "قيد التنفيذ"],
                    datasets: [{
                            data: [#{headerEmp.numberOfservecDone}, #{headerEmp.numberOfservecNotDone}],
                            backgroundColor: ['#1cc88a', '#f6c23e'],
                            hoverBackgroundColor: ['#17a673', '#f6c23e'],
                            hoverBorderColor: "rgba(234, 236, 244, 1)",
                        }],
                },
                options: {
                    maintainAspectRatio: false,
                    tooltips: {
                        backgroundColor: "rgb(255,255,255)",
                        bodyFontColor: "#858796",
                        borderColor: '#dddfeb',
                        borderWidth: 1,
                        xPadding: 15,
                        yPadding: 15,
                        displayColors: false,
                        caretPadding: 10,
                    },
                    legend: {
                        display: false
                    },
                    cutoutPercentage: 80,
                },
            });



        </script>

    </h:body>
</html>

